---
title: "Embedding models"
---

## Overview

<Note>
This overview covers **text-based embedding models**. LangChain does not currently support multimodal embeddings.
</Note>

Embedding models transform raw text—such as a sentence, paragraph, or tweet—into a fixed-length vector of numbers that captures its **semantic meaning**. These vectors allow machines to compare and search text based on meaning rather than exact words.

In practice, this means that texts with similar ideas are placed close together in the vector space. For example, instead of matching only the phrase *"machine learning"*, embeddings can surface documents that discuss related concepts even when different wording is used.

### How it works

1. **Vectorization** — The model encodes each input string as a high-dimensional vector.
2. **Similarity scoring** — Vectors are compared using mathematical metrics to measure how closely related the underlying texts are.

### Similarity metrics

Several metrics are commonly used to compare embeddings:

* **Cosine similarity** — measures the angle between two vectors.
* **Euclidean distance** — measures the straight-line distance between points.
* **Dot product** — measures how much one vector projects onto another.

## Interface

LangChain provides a standard interface for text embedding models (e.g., OpenAI, Cohere, Hugging Face) via the [Embeddings](https://v03.api.js.langchain.com/classes/_langchain_core.embeddings.Embeddings.html) interface.

Two main methods are available:

* `embedDocuments(documents: string[]) → number[][]`: Embeds a list of documents.
* `embedQuery(text: string) → number[]`: Embeds a single query.

<Note>
The interface allows queries and documents to be embedded with different strategies, though most providers handle them the same way in practice.
</Note>

## Install and use

<AccordionGroup>
<Accordion title="OpenAI">

Install dependencies:

<CodeGroup>

```bash npm
npm i @langchain/openai
```
```bash yarn
yarn add @langchain/openai
```
```bash pnpm
pnpm add @langchain/openai
```
</CodeGroup>

Add environment variables:

```bash
OPENAI_API_KEY=your-api-key
```

Instantiate the model:

```typescript
import { OpenAIEmbeddings } from "@langchain/openai";

const embeddings = new OpenAIEmbeddings({
  model: "text-embedding-3-large"
});
```

</Accordion>
<Accordion title="Azure">

Install dependencies

<CodeGroup>

```bash npm
npm i @langchain/openai
```
```bash yarn
yarn add @langchain/openai
```

```bash pnpm
pnpm add @langchain/openai
```
</CodeGroup>

Add environment variables:

```bash
AZURE_OPENAI_API_INSTANCE_NAME=<YOUR_INSTANCE_NAME>
AZURE_OPENAI_API_KEY=<YOUR_KEY>
AZURE_OPENAI_API_VERSION="2024-02-01"
```

Instantiate the model:

```typescript
import { AzureOpenAIEmbeddings } from "@langchain/openai";

const embeddings = new AzureOpenAIEmbeddings({
  azureOpenAIApiEmbeddingsDeploymentName: "text-embedding-ada-002"
});
```

</Accordion>

<Accordion title="AWS">

Install dependencies:

<CodeGroup>

```bash npm
npm i @langchain/aws
```

```bash yarn
yarn add @langchain/aws
```

```bash pnpm
pnpm add @langchain/aws
```

</CodeGroup>

Add environment variables:

```bash
BEDROCK_AWS_REGION=your-region
```

Instantiate the model:

```typescript
import { BedrockEmbeddings } from "@langchain/aws";

const embeddings = new BedrockEmbeddings({
  model: "amazon.titan-embed-text-v1"
});
```

</Accordion>
<Accordion title="Google Gemini">

Install dependencies:

<CodeGroup>
```bash npm
npm i @langchain/google-genai
```

```bash yarn
yarn add @langchain/google-genai
```

```bash pnpm
pnpm add @langchain/google-genai
```
</CodeGroup>

Add environment variables:

```bash
GOOGLE_API_KEY=your-api-key
```

Instantiate the model:

```typescript
import { GoogleGenerativeAIEmbeddings } from "@langchain/google-genai";

const embeddings = new GoogleGenerativeAIEmbeddings({
  model: "text-embedding-004"
});
```

</Accordion>
<Accordion title="Google Vertex">

Install dependencies:

<CodeGroup>

```bash npm
npm i @langchain/google-vertexai
```

```bash yarn
yarn add @langchain/google-vertexai
```

```bash pnpm
pnpm add @langchain/google-vertexai
```
</CodeGroup>

Add environment variables:

```bash
GOOGLE_APPLICATION_CREDENTIALS=credentials.json
```

Instantiate the model:

```typescript
import { VertexAIEmbeddings } from "@langchain/google-vertexai";

const embeddings = new VertexAIEmbeddings({
  model: "gemini-embedding-001"
});
```

</Accordion>
<Accordion title="MistralAI">

Install dependencies:

<CodeGroup>
```bash npm
npm i @langchain/mistralai
```

```bash yarn
yarn add @langchain/mistralai
```

```bash pnpm
pnpm add @langchain/mistralai
```
</CodeGroup>

Add environment variables:

```bash
MISTRAL_API_KEY=your-api-key
```

Instantiate the model:

```typescript
import { MistralAIEmbeddings } from "@langchain/mistralai";

const embeddings = new MistralAIEmbeddings({
  model: "mistral-embed"
});
```

</Accordion>
<Accordion title="Cohere">

Install dependencies:

<CodeGroup>
```bash npm
npm i @langchain/cohere
```

```bash yarn
yarn add @langchain/cohere
```

```bash pnpm
pnpm add @langchain/cohere
```

</CodeGroup>

Add environment variables:

```bash
COHERE_API_KEY=your-api-key
```

Instantiate the model:

```typescript
import { CohereEmbeddings } from "@langchain/cohere";

const embeddings = new CohereEmbeddings({
  model: "embed-english-v3.0"
});
```

</Accordion>
<Accordion title="Ollama">

Install dependencies:

<CodeGroup>
```bash npm
npm i @langchain/ollama
```

```bash yarn
yarn add @langchain/ollama
```

```bash pnpm
pnpm add @langchain/ollama
```
</CodeGroup>

Instantiate the model:

```typescript
import { OllamaEmbeddings } from "@langchain/ollama";

const embeddings = new OllamaEmbeddings({
  model: "llama2",
  baseUrl: "http://localhost:11434", // Default value
});
```

</Accordion>
</AccordionGroup>

## Caching

Embeddings can be stored or temporarily cached to avoid needing to recompute them.

Caching embeddings can be done using a `CacheBackedEmbeddings`. This wrapper stores embeddings in a key-value store, where the text is hashed and the hash is used as the key in the cache.

The main supported way to initialize a `CacheBackedEmbeddings` is `fromBytesStore`. It takes the following parameters:

- **underlyingEmbeddings**: The embedder to use for embedding.
- **documentEmbeddingStore**: Any [`BaseStore`](/oss/javascript/integrations/stores/) for caching document embeddings.
- **options.namespace**: (optional, defaults to `""`) The namespace to use for the document cache. Helps avoid collisions (e.g., set it to the embedding model name).

<Important>
- Always set the `namespace` parameter to avoid collisions when using different embedding models.
- `CacheBackedEmbeddings` does not cache query embeddings by default. To enable this, specify a `query_embedding_store`.
</Important>

```typescript
import { CacheBackedEmbeddings } from "@langchain/classic/embeddings/cache_backed";
import { InMemoryStore } from "@langchain/core/stores";

const underlyingEmbeddings = new OpenAIEmbeddings();

const inMemoryStore = new InMemoryStore();

const cacheBackedEmbeddings = CacheBackedEmbeddings.fromBytesStore(
  underlyingEmbeddings,
  inMemoryStore,
  {
    namespace: underlyingEmbeddings.model,
  }
);

// Example: caching a query embedding
const tic = Date.now();
const queryEmbedding = cacheBackedEmbeddings.embedQuery("Hello, world!");
console.log(`First call took: ${Date.now() - tic}ms`);

// Example: caching a document embedding
const tic = Date.now();
const documentEmbedding = cacheBackedEmbeddings.embedDocuments(["Hello, world!"]);
console.log(`Cached creation time: ${Date.now() - tic}ms`);
```

In production, you would typically use a more robust persistent store, such as a database or cloud storage. Please see [stores integrations](/oss/javascript/integrations/stores/) for options.

## All integrations

<Columns cols={3}>
  <Card
    title="Alibaba Tongyi"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/alibaba_tongyi"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Azure OpenAI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/azure_openai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Baidu Qianfan"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/baidu_qianfan"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Amazon Bedrock"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/bedrock"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="ByteDance Doubao"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/bytedance_doubao"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Cloudflare Workers AI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/cloudflare_ai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Cohere"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/cohere"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="DeepInfra"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/deepinfra"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Fireworks"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/fireworks"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Google Generative AI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/google_generativeai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Google Vertex AI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/google_vertex_ai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Gradient AI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/gradient_ai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="HuggingFace Inference"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/hugging_face_inference"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="IBM watsonx.ai"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/ibm"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Jina"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/jina"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Llama CPP"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/llama_cpp"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Minimax"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/minimax"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="MistralAI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/mistralai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Mixedbread AI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/mixedbread_ai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Nomic"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/nomic"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Ollama"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/ollama"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="OpenAI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/openai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Pinecone"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/pinecone"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Prem AI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/premai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Tencent Hunyuan"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/tencent_hunyuan"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="TensorFlow"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/tensorflow"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="TogetherAI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/togetherai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="HuggingFace Transformers"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/transformers"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="Voyage AI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/voyageai"
    arrow="true"
    cta="View guide"
  />
  <Card
    title="ZhipuAI"
    icon="link"
    href="/oss/javascript/integrations/text_embedding/zhipuai"
    arrow="true"
    cta="View guide"
  />
</Columns>

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss\javascript\integrations\text_embedding\index.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.
</Tip>
