---
title: ä¸­æ–­
---



ä¸­æ–­å…è®¸æ‚¨åœ¨ç‰¹å®šç‚¹æš‚åœå›¾æ‰§è¡Œï¼Œå¹¶åœ¨ç»§ç»­ä¹‹å‰ç­‰å¾…å¤–éƒ¨è¾“å…¥ã€‚è¿™å®ç°äº†äººæœºåä½œæ¨¡å¼ï¼Œæ‚¨éœ€è¦å¤–éƒ¨è¾“å…¥æ‰èƒ½ç»§ç»­ã€‚å½“è§¦å‘ä¸­æ–­æ—¶ï¼ŒLangGraph ä½¿ç”¨å…¶[æŒä¹…åŒ–](/oss/javascript/langgraph/persistence)å±‚ä¿å­˜å›¾çŠ¶æ€ï¼Œå¹¶æ— é™æœŸç­‰å¾…ï¼Œç›´åˆ°æ‚¨æ¢å¤æ‰§è¡Œã€‚

ä¸­æ–­é€šè¿‡åœ¨å›¾çš„èŠ‚ç‚¹ä¸­çš„ä»»æ„ä½ç½®è°ƒç”¨ `interrupt()` å‡½æ•°æ¥å·¥ä½œã€‚è¯¥å‡½æ•°æ¥å—ä»»ä½•å¯ JSON åºåˆ—åŒ–çš„å€¼ï¼Œè¯¥å€¼ä¼šæš´éœ²ç»™è°ƒç”¨è€…ã€‚å½“æ‚¨å‡†å¤‡å¥½ç»§ç»­æ—¶ï¼Œé€šè¿‡ä½¿ç”¨ `Command` é‡æ–°è°ƒç”¨å›¾æ¥æ¢å¤æ‰§è¡Œï¼Œè¯¥å€¼éšåæˆä¸ºèŠ‚ç‚¹å†…éƒ¨ `interrupt()` è°ƒç”¨çš„è¿”å›å€¼ã€‚

ä¸é™æ€æ–­ç‚¹ï¼ˆåœ¨ç‰¹å®šèŠ‚ç‚¹ä¹‹å‰æˆ–ä¹‹åæš‚åœï¼‰ä¸åŒï¼Œä¸­æ–­æ˜¯**åŠ¨æ€çš„**â€”â€”å®ƒä»¬å¯ä»¥æ”¾ç½®åœ¨ä»£ç ä¸­çš„ä»»ä½•ä½ç½®ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®æ‚¨çš„åº”ç”¨ç¨‹åºé€»è¾‘è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚


- **æ£€æŸ¥ç‚¹ä¿å­˜æ‚¨çš„ä½ç½®ï¼š** æ£€æŸ¥ç‚¹å†™å…¥ç¡®åˆ‡çš„å›¾çŠ¶æ€ï¼Œä»¥ä¾¿æ‚¨ç¨åå¯ä»¥æ¢å¤ï¼Œå³ä½¿åœ¨é”™è¯¯çŠ¶æ€ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚
- **`thread_id` æ˜¯æ‚¨çš„æŒ‡é’ˆï¼š** ä½¿ç”¨ `{ configurable: { thread_id: ... } }` ä½œä¸º `invoke` æ–¹æ³•çš„é€‰é¡¹ï¼Œä»¥å‘Šè¯‰æ£€æŸ¥ç‚¹è¦åŠ è½½å“ªä¸ªçŠ¶æ€ã€‚
- **ä¸­æ–­è´Ÿè½½æ˜¾ç¤ºä¸º `__interrupt__`ï¼š** æ‚¨ä¼ é€’ç»™ `interrupt()` çš„å€¼ä¼šåœ¨ `__interrupt__` å­—æ®µä¸­è¿”å›ç»™è°ƒç”¨è€…ï¼Œä»¥ä¾¿æ‚¨çŸ¥é“å›¾æ­£åœ¨ç­‰å¾…ä»€ä¹ˆã€‚


æ‚¨é€‰æ‹©çš„ `thread_id` å®é™…ä¸Šæ˜¯æ‚¨çš„æŒä¹…æ¸¸æ ‡ã€‚é‡ç”¨å®ƒä¼šæ¢å¤ç›¸åŒçš„æ£€æŸ¥ç‚¹ï¼›ä½¿ç”¨æ–°å€¼ä¼šå¯åŠ¨ä¸€ä¸ªå…·æœ‰ç©ºçŠ¶æ€çš„å…¨æ–°çº¿ç¨‹ã€‚

## ä½¿ç”¨ `interrupt` æš‚åœ

[`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) å‡½æ•°æš‚åœå›¾æ‰§è¡Œå¹¶å‘è°ƒç”¨è€…è¿”å›ä¸€ä¸ªå€¼ã€‚å½“æ‚¨åœ¨èŠ‚ç‚¹å†…è°ƒç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) æ—¶ï¼ŒLangGraph ä¼šä¿å­˜å½“å‰å›¾çŠ¶æ€å¹¶ç­‰å¾…æ‚¨ä½¿ç”¨è¾“å…¥æ¢å¤æ‰§è¡Œã€‚

è¦ä½¿ç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html)ï¼Œæ‚¨éœ€è¦ï¼š
1. ä¸€ä¸ª**æ£€æŸ¥ç‚¹**æ¥æŒä¹…åŒ–å›¾çŠ¶æ€ï¼ˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨æŒä¹…çš„æ£€æŸ¥ç‚¹ï¼‰
2. é…ç½®ä¸­çš„**çº¿ç¨‹ ID**ï¼Œä»¥ä¾¿è¿è¡Œæ—¶çŸ¥é“ä»å“ªä¸ªçŠ¶æ€æ¢å¤
3. åœ¨æ‚¨æƒ³è¦æš‚åœçš„ä½ç½®è°ƒç”¨ `interrupt()`ï¼ˆè´Ÿè½½å¿…é¡»æ˜¯å¯ JSON åºåˆ—åŒ–çš„ï¼‰



```typescript
import { interrupt } from "@langchain/langgraph";

async function approvalNode(state: State) {
    // Pause and ask for approval
    const approved = interrupt("Do you approve this action?");

    // Command({ resume: ... }) provides the value returned into this variable
    return { approved };
}
```


å½“æ‚¨è°ƒç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) æ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹æƒ…å†µï¼š

1. **å›¾æ‰§è¡Œè¢«æš‚åœ**åœ¨è°ƒç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) çš„ç¡®åˆ‡ä½ç½®
2. **çŠ¶æ€è¢«ä¿å­˜**ä½¿ç”¨æ£€æŸ¥ç‚¹ï¼Œä»¥ä¾¿ç¨åå¯ä»¥æ¢å¤æ‰§è¡Œï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™åº”è¯¥æ˜¯ä¸€ä¸ªæŒä¹…æ£€æŸ¥ç‚¹ï¼ˆä¾‹å¦‚ï¼Œç”±æ•°æ®åº“æ”¯æŒï¼‰
3. **å€¼è¢«è¿”å›**ç»™è°ƒç”¨è€…ï¼Œä½äº `__interrupt__` å­—æ®µä¸‹ï¼›å®ƒå¯ä»¥æ˜¯ä»»ä½•å¯ JSON åºåˆ—åŒ–çš„å€¼ï¼ˆå­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰
4. **å›¾æ— é™æœŸç­‰å¾…**ç›´åˆ°æ‚¨ä½¿ç”¨å“åº”æ¢å¤æ‰§è¡Œ
5. **å“åº”è¢«ä¼ é€’å›**èŠ‚ç‚¹å½“æ‚¨æ¢å¤æ—¶ï¼Œæˆä¸º `interrupt()` è°ƒç”¨çš„è¿”å›å€¼

## æ¢å¤ä¸­æ–­

ä¸­æ–­æš‚åœæ‰§è¡Œåï¼Œæ‚¨é€šè¿‡ä½¿ç”¨åŒ…å«æ¢å¤å€¼çš„ `Command` å†æ¬¡è°ƒç”¨å›¾æ¥æ¢å¤å›¾ã€‚æ¢å¤å€¼è¢«ä¼ é€’å› `interrupt` è°ƒç”¨ï¼Œå…è®¸èŠ‚ç‚¹ä½¿ç”¨å¤–éƒ¨è¾“å…¥ç»§ç»­æ‰§è¡Œã€‚



```typescript
import { Command } from "@langchain/langgraph";

// Initial run - hits the interrupt and pauses
// thread_id is the durable pointer back to the saved checkpoint
const config = { configurable: { thread_id: "thread-1" } };
const result = await graph.invoke({ input: "data" }, config);

// Check what was interrupted
// __interrupt__ mirrors every payload you passed to interrupt()
console.log(result.__interrupt__);
// [{ value: 'Do you approve this action?', ... }]

// Resume with the human's response
// Command({ resume }) returns that value from interrupt() in the node
await graph.invoke(new Command({ resume: true }), config);
```


**å…³äºæ¢å¤çš„è¦ç‚¹ï¼š**

- æ¢å¤æ—¶å¿…é¡»ä½¿ç”¨ä¸ä¸­æ–­å‘ç”Ÿæ—¶**ç›¸åŒçš„çº¿ç¨‹ ID**
- ä¼ é€’ç»™ `Command(resume=...)` çš„å€¼æˆä¸º [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) è°ƒç”¨çš„è¿”å›å€¼
- èŠ‚ç‚¹ä»è°ƒç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) çš„èŠ‚ç‚¹å¼€å¤´é‡æ–°å¼€å§‹ï¼Œå› æ­¤ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) ä¹‹å‰çš„ä»»ä½•ä»£ç éƒ½ä¼šå†æ¬¡è¿è¡Œ
- æ‚¨å¯ä»¥å°†ä»»ä½•å¯ JSON åºåˆ—åŒ–çš„å€¼ä½œä¸ºæ¢å¤å€¼ä¼ é€’

## å¸¸è§æ¨¡å¼

ä¸­æ–­çš„å…³é”®ä½œç”¨æ˜¯èƒ½å¤Ÿæš‚åœæ‰§è¡Œå¹¶ç­‰å¾…å¤–éƒ¨è¾“å…¥ã€‚è¿™å¯¹äºå„ç§ç”¨ä¾‹éƒ½å¾ˆæœ‰ç”¨ï¼ŒåŒ…æ‹¬ï¼š

- <Icon icon="check-circle" /> [å®¡æ‰¹å·¥ä½œæµ](#approve-or-reject)ï¼šåœ¨æ‰§è¡Œå…³é”®æ“ä½œä¹‹å‰æš‚åœï¼ˆAPI è°ƒç”¨ã€æ•°æ®åº“æ›´æ”¹ã€é‡‘èäº¤æ˜“ï¼‰
- <Icon icon="pencil" /> [å®¡æŸ¥å’Œç¼–è¾‘](#review-and-edit-state)ï¼šè®©äººç±»åœ¨ç»§ç»­ä¹‹å‰å®¡æŸ¥å’Œä¿®æ”¹ LLM è¾“å‡ºæˆ–å·¥å…·è°ƒç”¨
- <Icon icon="wrench" /> [ä¸­æ–­å·¥å…·è°ƒç”¨](#interrupts-in-tools)ï¼šåœ¨æ‰§è¡Œå·¥å…·è°ƒç”¨ä¹‹å‰æš‚åœï¼Œä»¥åœ¨æ‰§è¡Œå‰å®¡æŸ¥å’Œç¼–è¾‘å·¥å…·è°ƒç”¨
- <Icon icon="shield-check" /> [éªŒè¯äººå·¥è¾“å…¥](#validating-human-input)ï¼šåœ¨ç»§ç»­ä¸‹ä¸€æ­¥ä¹‹å‰æš‚åœä»¥éªŒè¯äººå·¥è¾“å…¥

### æ‰¹å‡†æˆ–æ‹’ç»

ä¸­æ–­æœ€å¸¸è§çš„ç”¨é€”ä¹‹ä¸€æ˜¯åœ¨å…³é”®æ“ä½œä¹‹å‰æš‚åœå¹¶è¯·æ±‚æ‰¹å‡†ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½å¸Œæœ›è¯·æ±‚äººç±»æ‰¹å‡† API è°ƒç”¨ã€æ•°æ®åº“æ›´æ”¹æˆ–ä»»ä½•å…¶ä»–é‡è¦å†³ç­–ã€‚



```typescript
import { interrupt, Command } from "@langchain/langgraph";

function approvalNode(state: State): Command {
  // Pause execution; payload surfaces in result.__interrupt__
  const isApproved = interrupt({
    question: "Do you want to proceed?",
    details: state.actionDetails
  });

  // Route based on the response
  if (isApproved) {
    return new Command({ goto: "proceed" }); // Runs after the resume payload is provided
  } else {
    return new Command({ goto: "cancel" });
  }
}
```


å½“æ‚¨æ¢å¤å›¾æ—¶ï¼Œä¼ é€’ `true` è¡¨ç¤ºæ‰¹å‡†ï¼Œ`false` è¡¨ç¤ºæ‹’ç»ï¼š



```typescript
// To approve
await graph.invoke(new Command({ resume: true }), config);

// To reject
await graph.invoke(new Command({ resume: false }), config);
```


<Accordion title="Full example">


    ```typescript
    import {
      Command,
      MemorySaver,
      START,
      END,
      StateGraph,
      interrupt,
    } from "@langchain/langgraph";
    import * as z from "zod";

    const State = z.object({
      actionDetails: z.string(),
      status: z.enum(["pending", "approved", "rejected"]).nullable(),
    });

    const graphBuilder = new StateGraph(State)
      .addNode("approval", async (state) => {
        // Expose details so the caller can render them in a UI
        const decision = interrupt({
          question: "Approve this action?",
          details: state.actionDetails,
        });
        return new Command({ goto: decision ? "proceed" : "cancel" });
      }, { ends: ['proceed', 'cancel'] })
      .addNode("proceed", () => ({ status: "approved" }))
      .addNode("cancel", () => ({ status: "rejected" }))
      .addEdge(START, "approval")
      .addEdge("proceed", END)
      .addEdge("cancel", END);

    // Use a more durable checkpointer in production
    const checkpointer = new MemorySaver();
    const graph = graphBuilder.compile({ checkpointer });

    const config = { configurable: { thread_id: "approval-123" } };
    const initial = await graph.invoke(
      { actionDetails: "Transfer $500", status: "pending" },
      config,
    );
    console.log(initial.__interrupt__);
    // [{ value: { question: ..., details: ... } }]

    // Resume with the decision; true routes to proceed, false to cancel
    const resumed = await graph.invoke(new Command({ resume: true }), config);
    console.log(resumed.status); // -> "approved"
    ```


</Accordion>

### å®¡æŸ¥å’Œç¼–è¾‘çŠ¶æ€

æœ‰æ—¶æ‚¨å¸Œæœ›è®©äººç±»åœ¨ç»§ç»­ä¹‹å‰å®¡æŸ¥å’Œç¼–è¾‘å›¾çŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚è¿™å¯¹äºçº æ­£ LLMã€æ·»åŠ ç¼ºå¤±ä¿¡æ¯æˆ–è¿›è¡Œè°ƒæ•´å¾ˆæœ‰ç”¨ã€‚



```typescript
import { interrupt } from "@langchain/langgraph";

function reviewNode(state: State) {
  // æš‚åœå¹¶æ˜¾ç¤ºå½“å‰å†…å®¹ä»¥ä¾›å®¡æŸ¥ï¼ˆæ˜¾ç¤ºåœ¨ result.__interrupt__ ä¸­ï¼‰
  const editedContent = interrupt({
    instruction: "Review and edit this content",
    content: state.generatedText
  });

  // ä½¿ç”¨ç¼–è¾‘åçš„ç‰ˆæœ¬æ›´æ–°çŠ¶æ€
  return { generatedText: editedContent };
}
```


æ¢å¤æ—¶ï¼Œæä¾›ç¼–è¾‘åçš„å†…å®¹ï¼š



```typescript
await graph.invoke(
  new Command({ resume: "The edited and improved text" }), // Value becomes the return from interrupt()
  config
);
```


<Accordion title="Full example">


    ```typescript
    import {
      Command,
      MemorySaver,
      START,
      END,
      StateGraph,
      interrupt,
    } from "@langchain/langgraph";
    import * as z from "zod";

    const State = z.object({
      generatedText: z.string(),
    });

    const builder = new StateGraph(State)
      .addNode("review", async (state) => {
        // Ask a reviewer to edit the generated content
        const updated = interrupt({
          instruction: "Review and edit this content",
          content: state.generatedText,
        });
        return { generatedText: updated };
      })
      .addEdge(START, "review")
      .addEdge("review", END);

    const checkpointer = new MemorySaver();
    const graph = builder.compile({ checkpointer });

    const config = { configurable: { thread_id: "review-42" } };
    const initial = await graph.invoke({ generatedText: "Initial draft" }, config);
    console.log(initial.__interrupt__);
    // [{ value: { instruction: ..., content: ... } }]

    // Resume with the edited text from the reviewer
    const finalState = await graph.invoke(
      new Command({ resume: "Improved draft after review" }),
      config,
    );
    console.log(finalState.generatedText); // -> "Improved draft after review"
    ```


</Accordion>

### å·¥å…·ä¸­çš„ä¸­æ–­

æ‚¨ä¹Ÿå¯ä»¥å°†ä¸­æ–­ç›´æ¥æ”¾ç½®åœ¨å·¥å…·å‡½æ•°å†…éƒ¨ã€‚è¿™ä½¿å¾—å·¥å…·æœ¬èº«åœ¨æ¯æ¬¡è¢«è°ƒç”¨æ—¶éƒ½ä¼šæš‚åœç­‰å¾…æ‰¹å‡†ï¼Œå¹¶å…è®¸åœ¨æ‰§è¡Œå‰å¯¹å·¥å…·è°ƒç”¨è¿›è¡Œäººå·¥å®¡æŸ¥å’Œç¼–è¾‘ã€‚

é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ªä½¿ç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) çš„å·¥å…·ï¼š



```typescript
import { tool } from "@langchain/core/tools";
import { interrupt } from "@langchain/langgraph";
import * as z from "zod";

const sendEmailTool = tool(
  async ({ to, subject, body }) => {
    // Pause before sending; payload surfaces in result.__interrupt__
    const response = interrupt({
      action: "send_email",
      to,
      subject,
      body,
      message: "Approve sending this email?",
    });

    if (response?.action === "approve") {
      // Resume value can override inputs before executing
      const finalTo = response.to ?? to;
      const finalSubject = response.subject ?? subject;
      const finalBody = response.body ?? body;
      return `Email sent to ${finalTo} with subject '${finalSubject}'`;
    }
    return "Email cancelled by user";
  },
  {
    name: "send_email",
    description: "Send an email to a recipient",
    schema: z.object({
      to: z.string(),
      subject: z.string(),
      body: z.string(),
    }),
  },
);
```


å½“æ‚¨å¸Œæœ›å®¡æ‰¹é€»è¾‘ä¸å·¥å…·æœ¬èº«å…±å­˜ï¼Œä½¿å…¶åœ¨å›¾çš„ä¸åŒéƒ¨åˆ†å¯é‡ç”¨æ—¶ï¼Œè¿™ç§æ–¹æ³•å¾ˆæœ‰ç”¨ã€‚LLM å¯ä»¥è‡ªç„¶åœ°è°ƒç”¨å·¥å…·ï¼Œæ¯å½“å·¥å…·è¢«è°ƒç”¨æ—¶ï¼Œä¸­æ–­éƒ½ä¼šæš‚åœæ‰§è¡Œï¼Œå…è®¸æ‚¨æ‰¹å‡†ã€ç¼–è¾‘æˆ–å–æ¶ˆæ“ä½œã€‚

<Accordion title="å®Œæ•´ç¤ºä¾‹">


    ```typescript
    import { tool } from "@langchain/core/tools";
    import { ChatAnthropic } from "@langchain/anthropic";
    import {
      Command,
      MemorySaver,
      START,
      END,
      StateGraph,
      interrupt,
    } from "@langchain/langgraph";
    import * as z from "zod";

    const sendEmailTool = tool(
      async ({ to, subject, body }) => {
        // Pause before sending; payload surfaces in result.__interrupt__
        const response = interrupt({
          action: "send_email",
          to,
          subject,
          body,
          message: "Approve sending this email?",
        });

        if (response?.action === "approve") {
          const finalTo = response.to ?? to;
          const finalSubject = response.subject ?? subject;
          const finalBody = response.body ?? body;
          console.log("[sendEmailTool]", finalTo, finalSubject, finalBody);
          return `Email sent to ${finalTo}`;
        }
        return "Email cancelled by user";
      },
      {
        name: "send_email",
        description: "Send an email to a recipient",
        schema: z.object({
          to: z.string(),
          subject: z.string(),
          body: z.string(),
        }),
      },
    );

    const model = new ChatAnthropic({ model: "claude-sonnet-4-5-20250929" }).bindTools([sendEmailTool]);

    const Message = z.object({
      role: z.enum(["user", "assistant", "tool"]),
      content: z.string(),
    });

    const State = z.object({
      messages: z.array(Message),
    });

    const graphBuilder = new StateGraph(State)
      .addNode("agent", async (state) => {
        // LLM may decide to call the tool; interrupt pauses before sending
        const response = await model.invoke(state.messages);
        return { messages: [...state.messages, response] };
      })
      .addEdge(START, "agent")
      .addEdge("agent", END);

    const checkpointer = new MemorySaver();
    const graph = graphBuilder.compile({ checkpointer });

    const config = { configurable: { thread_id: "email-workflow" } };
    const initial = await graph.invoke(
      {
        messages: [
          { role: "user", content: "Send an email to alice@example.com about the meeting" },
        ],
      },
      config,
    );
    console.log(initial.__interrupt__); // -> [{ value: { action: 'send_email', ... } }]

    // Resume with approval and optionally edited arguments
    const resumed = await graph.invoke(
      new Command({
        resume: { action: "approve", subject: "Updated subject" },
      }),
      config,
    );
    console.log(resumed.messages.at(-1)); // -> Tool result returned by send_email
    ```


</Accordion>

### éªŒè¯äººå·¥è¾“å…¥

æœ‰æ—¶æ‚¨éœ€è¦éªŒè¯æ¥è‡ªäººç±»çš„è¾“å…¥ï¼Œå¦‚æœæ— æ•ˆåˆ™å†æ¬¡è¯¢é—®ã€‚æ‚¨å¯ä»¥åœ¨å¾ªç¯ä¸­ä½¿ç”¨å¤šä¸ª [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) è°ƒç”¨æ¥å®ç°è¿™ä¸€ç‚¹ã€‚



```typescript
import { interrupt } from "@langchain/langgraph";

function getAgeNode(state: State) {
  let prompt = "What is your age?";

  while (true) {
    const answer = interrupt(prompt); // è´Ÿè½½æ˜¾ç¤ºåœ¨ result.__interrupt__ ä¸­

    // éªŒè¯è¾“å…¥
    if (typeof answer === "number" && answer > 0) {
      // æœ‰æ•ˆè¾“å…¥ - ç»§ç»­
      return { age: answer };
    } else {
      // æ— æ•ˆè¾“å…¥ - ä½¿ç”¨æ›´å…·ä½“çš„æç¤ºå†æ¬¡è¯¢é—®
      prompt = `'${answer}' is not a valid age. Please enter a positive number.`;
    }
  }
}
```


æ¯æ¬¡æ‚¨ä½¿ç”¨æ— æ•ˆè¾“å…¥æ¢å¤å›¾æ—¶ï¼Œå®ƒéƒ½ä¼šä½¿ç”¨æ›´æ¸…æ™°çš„æ¶ˆæ¯å†æ¬¡è¯¢é—®ã€‚ä¸€æ—¦æä¾›äº†æœ‰æ•ˆè¾“å…¥ï¼ŒèŠ‚ç‚¹å®Œæˆï¼Œå›¾ç»§ç»­æ‰§è¡Œã€‚

<Accordion title="Full example">


    ```typescript
    import {
      Command,
      MemorySaver,
      START,
      END,
      StateGraph,
      interrupt,
    } from "@langchain/langgraph";
    import * as z from "zod";

    const State = z.object({
      age: z.number().nullable(),
    });

    const builder = new StateGraph(State)
      .addNode("collectAge", (state) => {
        let prompt = "What is your age?";

        while (true) {
          const answer = interrupt(prompt); // payload surfaces in result.__interrupt__

          if (typeof answer === "number" && answer > 0) {
            return { age: answer };
          }

          prompt = `'${answer}' is not a valid age. Please enter a positive number.`;
        }
      })
      .addEdge(START, "collectAge")
      .addEdge("collectAge", END);

    const checkpointer = new MemorySaver();
    const graph = builder.compile({ checkpointer });

    const config = { configurable: { thread_id: "form-1" } };
    const first = await graph.invoke({ age: null }, config);
    console.log(first.__interrupt__); // -> [{ value: "What is your age?", ... }]

    // Provide invalid data; the node re-prompts
    const retry = await graph.invoke(new Command({ resume: "thirty" }), config);
    console.log(retry.__interrupt__); // -> [{ value: "'thirty' is not a valid age...", ... }]

    // Provide valid data; loop exits and state updates
    const final = await graph.invoke(new Command({ resume: 30 }), config);
    console.log(final.age); // -> 30
    ```


</Accordion>

## ä¸­æ–­è§„åˆ™

å½“æ‚¨åœ¨èŠ‚ç‚¹å†…è°ƒç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) æ—¶ï¼ŒLangGraph é€šè¿‡å¼•å‘å¼‚å¸¸æ¥æš‚åœæ‰§è¡Œï¼Œè¯¥å¼‚å¸¸å‘è¿è¡Œæ—¶å‘å‡ºæš‚åœä¿¡å·ã€‚æ­¤å¼‚å¸¸é€šè¿‡è°ƒç”¨å †æ ˆå‘ä¸Šä¼ æ’­ï¼Œè¢«è¿è¡Œæ—¶æ•è·ï¼Œè¿è¡Œæ—¶é€šçŸ¥å›¾ä¿å­˜å½“å‰çŠ¶æ€å¹¶ç­‰å¾…å¤–éƒ¨è¾“å…¥ã€‚

å½“æ‰§è¡Œæ¢å¤æ—¶ï¼ˆåœ¨æ‚¨æä¾›è¯·æ±‚çš„è¾“å…¥ä¹‹åï¼‰ï¼Œè¿è¡Œæ—¶ä»èŠ‚ç‚¹å¼€å¤´é‡æ–°å¯åŠ¨æ•´ä¸ªèŠ‚ç‚¹â€”â€”å®ƒä¸ä¼šä»è°ƒç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) çš„ç¡®åˆ‡è¡Œæ¢å¤ã€‚è¿™æ„å‘³ç€åœ¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) ä¹‹å‰è¿è¡Œçš„ä»»ä½•ä»£ç éƒ½ä¼šå†æ¬¡æ‰§è¡Œã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨ä¸­æ–­æ—¶éœ€è¦éµå¾ªä¸€äº›é‡è¦è§„åˆ™ï¼Œä»¥ç¡®ä¿å®ƒä»¬æŒ‰é¢„æœŸå·¥ä½œã€‚



### ä¸è¦åœ¨ try/catch ä¸­åŒ…è£… `interrupt` è°ƒç”¨

[`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) åœ¨è°ƒç”¨ç‚¹æš‚åœæ‰§è¡Œçš„æ–¹å¼æ˜¯é€šè¿‡æŠ›å‡ºç‰¹æ®Šå¼‚å¸¸ã€‚å¦‚æœæ‚¨å°† [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) è°ƒç”¨åŒ…è£…åœ¨ try/catch å—ä¸­ï¼Œæ‚¨å°†æ•è·æ­¤å¼‚å¸¸ï¼Œä¸­æ–­å°†ä¸ä¼šä¼ é€’å›å›¾ã€‚

* âœ… å°† [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) è°ƒç”¨ä¸å®¹æ˜“å‡ºé”™çš„ä»£ç åˆ†å¼€
* âœ… å¦‚æœéœ€è¦ï¼Œæœ‰æ¡ä»¶åœ°æ•è·é”™è¯¯

<CodeGroup>
```typescript Separating logic
async function nodeA(state: State) {
    // âœ… å¥½ï¼šå…ˆä¸­æ–­ï¼Œç„¶åå•ç‹¬å¤„ç†é”™è¯¯æ¡ä»¶
    const name = interrupt("What's your name?");
    try {
        await fetchData(); // è¿™å¯èƒ½ä¼šå¤±è´¥
    } catch (err) {
        console.error(error);
    }
    return state;
}
```
```typescript Conditionally handling errors
async function nodeA(state: State) {
    // âœ… å¥½ï¼šé‡æ–°æŠ›å‡ºå¼‚å¸¸å°†å…è®¸ä¸­æ–­ä¼ é€’å›å›¾
    try {
        const name = interrupt("What's your name?");
        await fetchData(); // è¿™å¯èƒ½ä¼šå¤±è´¥
    } catch (err) {
        if (error instanceof NetworkError) {
            console.error(error);
        }
        throw error;
    }
    return state;
}
```
</CodeGroup>

* ğŸ”´ ä¸è¦åœ¨è£¸éœ²çš„ try/catch å—ä¸­åŒ…è£… [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) è°ƒç”¨

```typescript
async function nodeA(state: State) {
    // âŒ åï¼šåœ¨è£¸éœ²çš„ try/catch ä¸­åŒ…è£… interrupt ä¼šæ•è·ä¸­æ–­å¼‚å¸¸
    try {
        const name = interrupt("What's your name?");
    } catch (err) {
        console.error(error);
    }
    return state;
}
```


### ä¸è¦é‡æ–°æ’åºèŠ‚ç‚¹å†…çš„ `interrupt` è°ƒç”¨

åœ¨å•ä¸ªèŠ‚ç‚¹ä¸­ä½¿ç”¨å¤šä¸ªä¸­æ–­å¾ˆå¸¸è§ï¼Œä½†å¦‚æœä¸å°å¿ƒå¤„ç†ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„å¤–è¡Œä¸ºã€‚

å½“èŠ‚ç‚¹åŒ…å«å¤šä¸ªä¸­æ–­è°ƒç”¨æ—¶ï¼ŒLangGraph ä¼šä¸ºæ‰§è¡Œè¯¥èŠ‚ç‚¹çš„ä»»åŠ¡ç»´æŠ¤ä¸€ä¸ªæ¢å¤å€¼åˆ—è¡¨ã€‚æ¯å½“æ‰§è¡Œæ¢å¤æ—¶ï¼Œå®ƒä»èŠ‚ç‚¹å¼€å¤´å¼€å§‹ã€‚å¯¹äºé‡åˆ°çš„æ¯ä¸ªä¸­æ–­ï¼ŒLangGraph æ£€æŸ¥ä»»åŠ¡çš„æ¢å¤åˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨åŒ¹é…å€¼ã€‚åŒ¹é…æ˜¯**ä¸¥æ ¼åŸºäºç´¢å¼•çš„**ï¼Œå› æ­¤èŠ‚ç‚¹å†…ä¸­æ–­è°ƒç”¨çš„é¡ºåºå¾ˆé‡è¦ã€‚

* âœ… ä¿æŒ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) è°ƒç”¨åœ¨èŠ‚ç‚¹æ‰§è¡Œä¹‹é—´ä¸€è‡´


```typescript
async function nodeA(state: State) {
    // âœ… å¥½ï¼šä¸­æ–­è°ƒç”¨æ¯æ¬¡éƒ½æŒ‰ç›¸åŒé¡ºåºå‘ç”Ÿ
    const name = interrupt("What's your name?");
    const age = interrupt("What's your age?");
    const city = interrupt("What's your city?");

    return {
        name,
        age,
        city
    };
}
```


* ğŸ”´ ä¸è¦æœ‰æ¡ä»¶åœ°è·³è¿‡èŠ‚ç‚¹å†…çš„ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) è°ƒç”¨
* ğŸ”´ ä¸è¦ä½¿ç”¨åœ¨æ‰§è¡Œä¹‹é—´ä¸ç¡®å®šçš„é€»è¾‘å¾ªç¯ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) è°ƒç”¨


<CodeGroup>
```typescript Skipping interrupts
async function nodeA(state: State) {
    // âŒ åï¼šæœ‰æ¡ä»¶åœ°è·³è¿‡ä¸­æ–­ä¼šæ”¹å˜é¡ºåº
    const name = interrupt("What's your name?");

    // ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ï¼Œå¯èƒ½ä¼šè·³è¿‡ä¸­æ–­
    // æ¢å¤æ—¶ï¼Œå¯èƒ½ä¸ä¼šè·³è¿‡å®ƒ - å¯¼è‡´ç´¢å¼•ä¸åŒ¹é…
    if (state.needsAge) {
        const age = interrupt("What's your age?");
    }

    const city = interrupt("What's your city?");

    return { name, city };
}
```
```typescript Looping interrupts
async function nodeA(state: State) {
    // âŒ åï¼šåŸºäºä¸ç¡®å®šæ•°æ®çš„å¾ªç¯
    // ä¸­æ–­æ•°é‡åœ¨æ‰§è¡Œä¹‹é—´ä¼šå‘ç”Ÿå˜åŒ–
    const results = [];
    for (const item of state.dynamicList || []) {  // åˆ—è¡¨å¯èƒ½åœ¨è¿è¡Œä¹‹é—´å‘ç”Ÿå˜åŒ–
        const result = interrupt(`Approve ${item}?`);
        results.push(result);
    }

    return { results };
}
```
</CodeGroup>


### ä¸è¦åœ¨ `interrupt` è°ƒç”¨ä¸­è¿”å›å¤æ‚å€¼

æ ¹æ®ä½¿ç”¨çš„æ£€æŸ¥ç‚¹ï¼Œå¤æ‚å€¼å¯èƒ½æ— æ³•åºåˆ—åŒ–ï¼ˆä¾‹å¦‚ï¼Œæ‚¨æ— æ³•åºåˆ—åŒ–å‡½æ•°ï¼‰ã€‚ä¸ºäº†ä½¿æ‚¨çš„å›¾èƒ½å¤Ÿé€‚åº”ä»»ä½•éƒ¨ç½²ï¼Œæœ€ä½³å®è·µæ˜¯ä»…ä½¿ç”¨å¯ä»¥åˆç†åºåˆ—åŒ–çš„å€¼ã€‚

* âœ… å°†ç®€å•çš„ã€å¯ JSON åºåˆ—åŒ–çš„ç±»å‹ä¼ é€’ç»™ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html)
* âœ… ä¼ é€’åŒ…å«ç®€å•å€¼çš„å­—å…¸/å¯¹è±¡



<CodeGroup>
```typescript Simple values
async function nodeA(state: State) {
    // âœ… å¥½ï¼šä¼ é€’å¯åºåˆ—åŒ–çš„ç®€å•ç±»å‹
    const name = interrupt("What's your name?");
    const count = interrupt(42);
    const approved = interrupt(true);

    return { name, count, approved };
}
```
```typescript Structured data
async function nodeA(state: State) {
    // âœ… å¥½ï¼šä¼ é€’åŒ…å«ç®€å•å€¼çš„å¯¹è±¡
    const response = interrupt({
        question: "Enter user details",
        fields: ["name", "email", "age"],
        currentValues: state.user || {}
    });

    return { user: response };
}
```
</CodeGroup>


* ğŸ”´ ä¸è¦å°†å‡½æ•°ã€ç±»å®ä¾‹æˆ–å…¶ä»–å¤æ‚å¯¹è±¡ä¼ é€’ç»™ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html)



<CodeGroup>
```typescript Functions
function validateInput(value: string): boolean {
    return value.length > 0;
}

async function nodeA(state: State) {
    // âŒ åï¼šå°†å‡½æ•°ä¼ é€’ç»™ interrupt
    // å‡½æ•°æ— æ³•åºåˆ—åŒ–
    const response = interrupt({
        question: "What's your name?",
        validator: validateInput  // è¿™ä¼šå¤±è´¥
    });
    return { name: response };
}
```
```typescript Class instances
class DataProcessor {
    constructor(private config: any) {}
}

async function nodeA(state: State) {
    const processor = new DataProcessor({ mode: "strict" });

    // âŒ åï¼šå°†ç±»å®ä¾‹ä¼ é€’ç»™ interrupt
    // å®ä¾‹æ— æ³•åºåˆ—åŒ–
    const response = interrupt({
        question: "Enter data to process",
        processor: processor  // è¿™ä¼šå¤±è´¥
    });
    return { result: response };
}
```
</CodeGroup>


### åœ¨ `interrupt` ä¹‹å‰è°ƒç”¨çš„å‰¯ä½œç”¨å¿…é¡»æ˜¯å¹‚ç­‰çš„

å› ä¸ºä¸­æ–­é€šè¿‡é‡æ–°è¿è¡Œè°ƒç”¨å®ƒä»¬çš„èŠ‚ç‚¹æ¥å·¥ä½œï¼Œæ‰€ä»¥åœ¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) ä¹‹å‰è°ƒç”¨çš„å‰¯ä½œç”¨åº”è¯¥ï¼ˆç†æƒ³æƒ…å†µä¸‹ï¼‰æ˜¯å¹‚ç­‰çš„ã€‚ä¸Šä¸‹æ–‡è¯´æ˜ï¼Œå¹‚ç­‰æ€§æ„å‘³ç€å¯ä»¥å¤šæ¬¡åº”ç”¨åŒä¸€æ“ä½œï¼Œè€Œä¸ä¼šæ”¹å˜åˆå§‹æ‰§è¡Œä¹‹å¤–çš„ç»“æœã€‚

ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½åœ¨èŠ‚ç‚¹å†…æœ‰ä¸€ä¸ªæ›´æ–°è®°å½•çš„ API è°ƒç”¨ã€‚å¦‚æœåœ¨è¿›è¡Œè¯¥è°ƒç”¨åè°ƒç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html)ï¼Œåˆ™åœ¨æ¢å¤èŠ‚ç‚¹æ—¶å°†å¤šæ¬¡é‡æ–°è¿è¡Œï¼Œå¯èƒ½ä¼šè¦†ç›–åˆå§‹æ›´æ–°æˆ–åˆ›å»ºé‡å¤è®°å½•ã€‚

* âœ… åœ¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) ä¹‹å‰ä½¿ç”¨å¹‚ç­‰æ“ä½œ
* âœ… å°†å‰¯ä½œç”¨æ”¾åœ¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) è°ƒç”¨ä¹‹å
* âœ… å°½å¯èƒ½å°†å‰¯ä½œç”¨åˆ†ç¦»åˆ°å•ç‹¬çš„èŠ‚ç‚¹ä¸­



<CodeGroup>
```typescript Idempotent operations
async function nodeA(state: State) {
    // âœ… å¥½ï¼šä½¿ç”¨å¹‚ç­‰çš„ upsert æ“ä½œ
    // å¤šæ¬¡è¿è¡Œå°†äº§ç”Ÿç›¸åŒçš„ç»“æœ
    await db.upsertUser({
        userId: state.userId,
        status: "pending_approval"
    });

    const approved = interrupt("Approve this change?");

    return { approved };
}
```
```typescript Side effects after interrupt
async function nodeA(state: State) {
    // âœ… å¥½ï¼šå°†å‰¯ä½œç”¨æ”¾åœ¨ä¸­æ–­ä¹‹å
    // è¿™ç¡®ä¿å®ƒåªåœ¨æ”¶åˆ°æ‰¹å‡†åè¿è¡Œä¸€æ¬¡
    const approved = interrupt("Approve this change?");

    if (approved) {
        await db.createAuditLog({
            userId: state.userId,
            action: "approved"
        });
    }

    return { approved };
}
```
```typescript Separating into different nodes
async function approvalNode(state: State) {
    // âœ… å¥½ï¼šä»…åœ¨æ­¤èŠ‚ç‚¹ä¸­å¤„ç†ä¸­æ–­
    const approved = interrupt("Approve this change?");

    return { approved };
}

async function notificationNode(state: State) {
    // âœ… å¥½ï¼šå‰¯ä½œç”¨å‘ç”Ÿåœ¨å•ç‹¬çš„èŠ‚ç‚¹ä¸­
    // è¿™åœ¨æ‰¹å‡†åè¿è¡Œï¼Œå› æ­¤åªæ‰§è¡Œä¸€æ¬¡
    if (state.approved) {
        await sendNotification({
            userId: state.userId,
            status: "approved"
        });
    }

    return state;
}
```
</CodeGroup>


* ğŸ”´ ä¸è¦åœ¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) ä¹‹å‰æ‰§è¡Œéå¹‚ç­‰æ“ä½œ
* ğŸ”´ ä¸è¦åœ¨ä¸æ£€æŸ¥æ˜¯å¦å­˜åœ¨çš„æƒ…å†µä¸‹åˆ›å»ºæ–°è®°å½•



<CodeGroup>
```typescript Creating records
async function nodeA(state: State) {
    // âŒ åï¼šåœ¨ä¸­æ–­ä¹‹å‰åˆ›å»ºæ–°è®°å½•
    // è¿™å°†åœ¨æ¯æ¬¡æ¢å¤æ—¶åˆ›å»ºé‡å¤è®°å½•
    const auditId = await db.createAuditLog({
        userId: state.userId,
        action: "pending_approval",
        timestamp: new Date()
    });

    const approved = interrupt("Approve this change?");

    return { approved, auditId };
}
```
```typescript Appending to arrays
async function nodeA(state: State) {
    // âŒ åï¼šåœ¨ä¸­æ–­ä¹‹å‰è¿½åŠ åˆ°æ•°ç»„
    // è¿™å°†åœ¨æ¯æ¬¡æ¢å¤æ—¶æ·»åŠ é‡å¤æ¡ç›®
    await db.appendToHistory(state.userId, "approval_requested");

    const approved = interrupt("Approve this change?");

    return { approved };
}
```
</CodeGroup>


## ä¸ä½œä¸ºå‡½æ•°è°ƒç”¨çš„å­å›¾ä¸€èµ·ä½¿ç”¨

å½“åœ¨èŠ‚ç‚¹å†…è°ƒç”¨å­å›¾æ—¶ï¼Œçˆ¶å›¾å°†ä»è°ƒç”¨å­å›¾å¹¶è§¦å‘ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) çš„**èŠ‚ç‚¹å¼€å¤´**æ¢å¤æ‰§è¡Œã€‚åŒæ ·ï¼Œ**å­å›¾**ä¹Ÿä¼šä»è°ƒç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) çš„èŠ‚ç‚¹å¼€å¤´æ¢å¤ã€‚


```typescript
async function nodeInParentGraph(state: State) {
    someCode(); // <-- æ¢å¤æ—¶å°†é‡æ–°æ‰§è¡Œ
    // å°†å­å›¾ä½œä¸ºå‡½æ•°è°ƒç”¨ã€‚
    // å­å›¾åŒ…å«ä¸€ä¸ª `interrupt` è°ƒç”¨ã€‚
    const subgraphResult = await subgraph.invoke(someInput);
    // ...
}

async function nodeInSubgraph(state: State) {
    someOtherCode(); // <-- æ¢å¤æ—¶ä¹Ÿä¼šé‡æ–°æ‰§è¡Œ
    const result = interrupt("What's your name?");
    // ...
}
```


## ä½¿ç”¨ä¸­æ–­è¿›è¡Œè°ƒè¯•


è¦è°ƒè¯•å’Œæµ‹è¯•å›¾ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é™æ€ä¸­æ–­ä½œä¸ºæ–­ç‚¹ï¼Œä¸€æ¬¡ä¸€ä¸ªèŠ‚ç‚¹åœ°é€æ­¥æ‰§è¡Œå›¾ã€‚é™æ€ä¸­æ–­åœ¨èŠ‚ç‚¹æ‰§è¡Œä¹‹å‰æˆ–ä¹‹åçš„å®šä¹‰ç‚¹è§¦å‘ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨ç¼–è¯‘å›¾æ—¶æŒ‡å®š `interruptBefore` å’Œ `interruptAfter` æ¥è®¾ç½®è¿™äº›ã€‚


<Note>
    é™æ€ä¸­æ–­**ä¸**æ¨èç”¨äºäººæœºåä½œå·¥ä½œæµã€‚è¯·æ”¹ç”¨ [`interrupt`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph.interrupt-2.html) æ–¹æ³•ã€‚
</Note>

<Tabs>
    <Tab title="ç¼–è¯‘æ—¶">

        ```typescript
        const graph = builder.compile({
            interruptBefore: ["node_a"],  // [!code highlight]
            interruptAfter: ["node_b", "node_c"],  // [!code highlight]
            checkpointer,
        });

        // å°†çº¿ç¨‹ ID ä¼ é€’ç»™å›¾
        const config = {
            configurable: {
                thread_id: "some_thread"
            }
        };

        // è¿è¡Œå›¾ç›´åˆ°æ–­ç‚¹
        await graph.invoke(inputs, config);# [!code highlight]

        await graph.invoke(null, config);  # [!code highlight]
        ```

        1. æ–­ç‚¹åœ¨ `compile` æ—¶è®¾ç½®ã€‚
        2. `interruptBefore` æŒ‡å®šåœ¨èŠ‚ç‚¹æ‰§è¡Œä¹‹å‰åº”æš‚åœæ‰§è¡Œçš„èŠ‚ç‚¹ã€‚
        3. `interruptAfter` æŒ‡å®šåœ¨èŠ‚ç‚¹æ‰§è¡Œä¹‹ååº”æš‚åœæ‰§è¡Œçš„èŠ‚ç‚¹ã€‚
        4. éœ€è¦æ£€æŸ¥ç‚¹æ‰èƒ½å¯ç”¨æ–­ç‚¹ã€‚
        5. å›¾è¿è¡Œç›´åˆ°ç¬¬ä¸€ä¸ªæ–­ç‚¹è¢«å‘½ä¸­ã€‚
        6. é€šè¿‡ä¼ å…¥ `null` ä½œä¸ºè¾“å…¥æ¥æ¢å¤å›¾ã€‚è¿™å°†è¿è¡Œå›¾ç›´åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹è¢«å‘½ä¸­ã€‚

    </Tab>
    <Tab title="è¿è¡Œæ—¶">

        ```typescript
        // è¿è¡Œå›¾ç›´åˆ°æ–­ç‚¹
        graph.invoke(inputs, {
            interruptBefore: ["node_a"],  // [!code highlight]
            interruptAfter: ["node_b", "node_c"],  // [!code highlight]
            configurable: {
                thread_id: "some_thread"
            }
        });

        // æ¢å¤å›¾
        await graph.invoke(null, config);  // [!code highlight]
        ```

        1. `graph.invoke` ä½¿ç”¨ `interruptBefore` å’Œ `interruptAfter` å‚æ•°è°ƒç”¨ã€‚è¿™æ˜¯è¿è¡Œæ—¶é…ç½®ï¼Œå¯ä»¥åœ¨æ¯æ¬¡è°ƒç”¨æ—¶æ›´æ”¹ã€‚
        2. `interruptBefore` æŒ‡å®šåœ¨èŠ‚ç‚¹æ‰§è¡Œä¹‹å‰åº”æš‚åœæ‰§è¡Œçš„èŠ‚ç‚¹ã€‚
        3. `interruptAfter` æŒ‡å®šåœ¨èŠ‚ç‚¹æ‰§è¡Œä¹‹ååº”æš‚åœæ‰§è¡Œçš„èŠ‚ç‚¹ã€‚
        4. å›¾è¿è¡Œç›´åˆ°ç¬¬ä¸€ä¸ªæ–­ç‚¹è¢«å‘½ä¸­ã€‚
        5. é€šè¿‡ä¼ å…¥ `null` ä½œä¸ºè¾“å…¥æ¥æ¢å¤å›¾ã€‚è¿™å°†è¿è¡Œå›¾ç›´åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹è¢«å‘½ä¸­ã€‚

    </Tab>
</Tabs>

### ä½¿ç”¨ LangGraph Studio

æ‚¨å¯ä»¥ä½¿ç”¨ [LangGraph Studio](/langsmith/studio) åœ¨è¿è¡Œå›¾ä¹‹å‰åœ¨ UI ä¸­è®¾ç½®é™æ€ä¸­æ–­ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ UI åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä»»ä½•ç‚¹æ£€æŸ¥å›¾çŠ¶æ€ã€‚

![image](/oss/images/static-interrupt.png)

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss\langgraph\interrupts.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.
</Tip>
