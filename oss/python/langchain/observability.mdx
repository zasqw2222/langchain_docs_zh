---
title: 可观测性
---

import observability from '/snippets/oss/observability.mdx';

可观测性对于了解您的代理在生产环境中的行为至关重要。使用 LangChain 的 [`create_agent`](https://reference.langchain.com/python/langchain/agents/#langchain.agents.create_agent)，您可以通过 [LangSmith](https://smith.langchain.com/) 获得内置的可观测性 - 这是一个强大的平台，用于跟踪、调试、评估和监控您的 LLM 应用程序。

跟踪捕获您的代理采取的每个步骤，从初始用户输入到最终响应，包括所有工具调用、模型交互和决策点。这使您能够调试代理、评估性能并监控使用情况。

## 先决条件

在开始之前，请确保您具备以下条件：

* [LangSmith 账户](https://smith.langchain.com/)（免费注册）

## 启用跟踪

所有 LangChain 代理都自动支持 LangSmith 跟踪。要启用它，请设置以下环境变量：

```bash
export LANGSMITH_TRACING=true
export LANGSMITH_API_KEY=<your-api-key>
```

<Info>
您可以从 [LangSmith 设置](https://smith.langchain.com/settings) 获取您的 API 密钥。
</Info>

## 快速开始

无需额外代码即可将跟踪记录到 LangSmith。只需像往常一样运行您的代理代码：

```python
from langchain.agents import create_agent


def send_email(to: str, subject: str, body: str):
    """Send an email to a recipient."""
    # ... email sending logic
    return f"Email sent to {to}"

def search_web(query: str):
    """Search the web for information."""
    # ... web search logic
    return f"Search results for: {query}"

agent = create_agent(
    model="gpt-4o",
    tools=[send_email, search_web],
    system_prompt="You are a helpful assistant that can send emails and search the web."
)

# Run the agent - all steps will be traced automatically
response = agent.invoke({
    "messages": [{"role": "user", "content": "Search for the latest AI news and email a summary to john@example.com"}]
})
```




默认情况下，跟踪将记录到名为 `default` 的项目中。要配置自定义项目名称，请参见[记录到项目](#log-to-a-project)。

<observability />

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss\langchain\observability.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.
</Tip>
